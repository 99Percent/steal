<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>StealJS - Contributing </title>
	<meta name="description" content="">
	<meta name="author" content="">

	<link rel="stylesheet" type="text/css" 
		
			href="./static/bundles/static.css"
		 />
	<!--[if lt IE 9]>
   <script type="text/javascript" src="./static/html5shiv.js"></script>
    <!--<![endif]-->
</head>

<body class="docs">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand" href="./index.html">StealJS</a>
				<ul class="dropdown-menu">
		          <li><a href="http://javascriptmvc.com">JavaScriptMVC</a></li>
		          <li><a href="http://canjs.com">CanJS</a></li>
		          <li><a href="http://jquerypp.com">jQuery++</a></li>
		          <li class="active"><a href="http://stealjs.com">StealJS</a></li>
		          <li><a href="http://funcunit.com">FuncUnit</a></li>
		          <li><a href="http://javascriptmvc.com/docs.html#!DocumentJS">DocumentJS</a></li>
		        </ul>
			</div>
			<ul class="nav">
	          <li class=""><a href="http://stealjs.com">Home</a></li>
	          <li class="active"><a href="./docs/index.html">Api</a></li>
	          <li class=""><a href="https://twitter.com/stealjs">Twitter</a></li>
		      <li class=""><a href="https://github.com/bitovi/steal">GitHub</a></li>
	        </ul>
			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/consulting/">Consulting</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<div class="container api">
	<nav class="sidebar">
		
		<ul class="api cascading primary-grouping"> 
	
		
		
			<li class="search-container active">
			<a class="sidebar-title" href="index.html" data-search="StealJS">
				StealJS
			</a>
			
	<ul>
		
			
				
					
					<li class="heading search-container">
						<span>apis</span>
						
	<ul>
		
			
				
				
				<li class="search-container">
					<a class="page" href="Steal.html" data-search="steal">
						steal
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="StealTools.html" data-search="steal-tools">
						steal-tools
					</a>
				</li>
				
			
			
		
	</ul>


					</li>
					
				
				
			
			
		
			
				
					
					<li class="heading search-container">
						<span>guides</span>
						
	<ul>
		
			
				
				
				<li class="search-container">
					<a class="page" href="StealJS.migrating.html" data-search="Migrating">
						Migrating
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="StealJS.roadmap.html" data-search="Roadmap">
						Roadmap
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="StealJS.why.html" data-search="Why StealJS">
						Why StealJS
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container">
					<a class="page" href="StealTools.guides.progressive_loading.html" data-search="Progressive Loading">
						Progressive Loading
					</a>
				</li>
				
			
			
		
			
				
				
				<li class="search-container active">
					<a class="page" href="guides.Contributing.html" data-search="Contributing">
						Contributing
					</a>
				</li>
				
			
			
		
	</ul>


					</li>
					
				
				
			
			
		
	</ul>


		</li>
		
	
</ul>

	</nav>
	<article class="content docs">
		<section class="title">
			<div class="heading">
<h1>Contributing</h1>
	<ul class="tags">
		<li>page</li>
	</ul>
	
	
</div>

<div class="sub-heading">
	
	
		<span class="module">guides.Contributing</span>
	
	
	
	<span class="inherits">&nbsp;</span>
</div>

<ul class="links">
    
	
		<li><a href="">source</a></li>
	
	
		
	
	
</ul>
<br />
		</section>

		<section class="contents">
		</section>

		

		<section class="description">
			<p>Thank you for contributing!</p>
		</section>

		

		
		
		
		

		
		<section class="comment">
			<h2>Bugs and Feature Requests</h2>

<p>Bugs and feature requests should be submitted to 
<a href="http://github.com/bitovi/steal/issues/new">steal</a> for issues
with module loading and <a href="http://github.com/bitovi/steal-tools/issues/new">steal-tools</a>
for issues building.  </p>

<p>The best issues are those submitted with tests.  Learn about how 
to setup a test in the "Developing" sections below.</p>

<h2>Developing steal</h2>

<p>To develop steal, fork and clone <a href="http://github.com/bitovi/steal">steal</a>. Make
sure you have NodeJS installed. Then:</p>

<ol>
<li><p>Install npm modules</p>

<pre><code>&gt; npm install
</code></pre></li>
<li><p>Install bower modules</p>

<pre><code>&gt; bower install
</code></pre></li>
<li><p>Setup grunt watch</p>

<pre><code>&gt; grunt watch
</code></pre></li>
</ol>

<p>This will automatically build <code>steal.js</code> and <code>steal.production.js</code>
when anything in <code>src</code> changes.  </p>

<p>To <strong>test</strong>, open <code>test/test.html</code>, and make sure everything passes.</p>

<h2>Understanding steal's code</h2>

<p><code>steal.js</code> packages two other projects:</p>

<ul>
<li><a href="https://github.com/ModuleLoader/es6-module-loader">ES6ModuleLoader</a> - Provides the [Loader] and [System] Polyfill.</li>
<li><a href="https://github.com/systemjs/systemjs">SystemJS</a> - Provides most System extensions 
like <a href="System.paths.html">System.paths</a>, <a href="System.map.html">System.map</a> and the <a href="syntax.amd.html">AMD</a> and <a href="syntax.CommonJS.html">CommonJS</a> syntaxes.</li>
</ul>

<p>And <code>steal.js</code> includes everything in the <code>src</code> folder.  On a high level, steal.js is
organized like:</p>

<pre><code>/* ES6ModuleLoader */
    /* - Promise polyfill */
!function(e){"object"==typeof ...}
    /* - Loader Polyfill */
    /* - System Polyfill */

/* SystemJS */
(function(__$global) {
  /* meta, register, core, global, cjs, amd, map, 
     plugins, bundles, versions, depCache extensions */
});

/* start.js
 * - wraps everything in a closure
 * - helpers that are useful everywhere
 */
(function(global){
    // helpers
    var camelize, each, map, isString, extend, parseURI;
/* normalize.js
 * - standalone normalize function
 */
    var normalize = function(){}
/* core.js
 * - starts `makeSteal` that makes `steal`.
 */
    var makeSteal = function( System ){
        var steal = function(){ ... }
/* system-extension-ext.js
 * - the System.ext extension
 */
        var addExt = function(loader) { .. };
        addExt(System);
/* system-extension-forward-slash.js
 * - module names that end in /
 */
        var addForwardSlash = function(loader) { ... };
        addForwardSlash(System);
/* config.js
 * - overwrites System.config
 * - sets up System.env, System.stealPath, System.bundlesPath
 */
        var setterConfig = function(...){...}
        setterConfig(System,{ ... });
/* startup.js
 * - defines startup code
 */
        var getScriptOptions = function () { ... }
        steal.startup = function(config){ ... }
/* make-steal-end.js
 * - closes `makeSteal`
 */
    };
/* system-format-steal.js
 * - a System extension that adds the `steal` syntax
 */
    function addSteal(loader) { ... }
    addSteal(System);
/* end.js
 * - 
 */
    if (typeof window != 'undefined') {
        window.steal = makeSteal(System);
        window.steal.startup( oldSteal );
        ...
    } else {
        require('systemjs');
        global.steal = makeSteal(System);
        ...
    }
})(typeof window == "undefined" ? global : window);
</code></pre>

<h2>Writing a steal test</h2>

<p>All tests are in <code>test/test.js</code>.  Most tests
create an iframe that opens another page like:</p>

<pre><code>asyncTest("test description", function(){
    makeIframe("path/to/page.html");
});
</code></pre>

<p>That page typically uses steal to import some 
modules and when complete calls to the parent window's
QUnit assertion methods.  For example:</p>

<pre><code>&lt;!-- page.html --&gt;
&lt;html&gt;
   &lt;script src='../../steal/steal.js'
           main='test-module'
&lt;/html&gt;

//test-module.js
window.parent.QUnit.ok(true, "test-module-loaded");
window.parent.QUnit.start();
</code></pre>

<h2>Developing steal-tools</h2>

<p>To develop steal, fork and clone <a href="http://github.com/bitovi/steal-tools">steal-tools</a>. Make
sure you have NodeJS installed. Then:</p>

<ol>
<li><p>Install npm modules</p>

<pre><code>&gt; npm install
</code></pre></li>
<li><p>Install bower modules</p>

<pre><code>&gt; bower install
</code></pre></li>
<li><p>Install mocha</p>

<pre><code>&gt; npm install -g mocha
</code></pre></li>
</ol>

<p>To <strong>test</strong>, run:</p>

<pre><code>    &gt; mocha test/test.js
</code></pre>

<h2>Understanding steal-tools code</h2>

<p>On a high level, <a href="StealTools.html">steal-tools</a> uses <code>lib/trace.js</code> to 
figure out all of the 
dependencies for a module and arange them into a graph. It
then transforms that graph into bundles and finally writes
out the bundles so they can be loaded by the client in production.</p>

<p>A dependency graph that <code>trace.js</code> produces looks like:</p>

<pre><code>{
  moduleName: Node({
    load: Load({
      name: moduleName,
      source: SOURCE
    }),
    dependencies: [moduleName,...],
    // which <a href="System.bundle.html">System.bundle</a> moduleNames this module is a dependency of.
    bundles: [bundleName,...],
  })
}
</code></pre>

<p>Here's an example:</p>

<pre><code>{
  "jquery": {
    load: {
      name: "jquery",
      source: "jQuery = function(){ ... }"
    },
    dependencies: [],
    bundles: ["profile","settings","login", ...]
  },
  "can/util": {
    load: {
      name: "can/util",
      source: "define(['jquery'], function($){ ... })" 
    },
    dependencies: ["jquery"],
    bundles: ["profile","login"]
  }
}
</code></pre>

<p>A <code>Load</code> is a ES6 load record.</p>

<p>A <code>Node</code> is an object that contains the load and other 
useful information like the modules:</p>

<ul>
<li>dependencies</li>
<li>bundles</li>
<li>transformed and/or minified source</li>
</ul>

<p>The build tools only write to <code>Node</code> to keep <code>Load</code> from being changed.
They manipulate this graph and eventually creates "bundle" 
graphs.  Bundle graphs look like:</p>

<pre><code> {
   // How many bytes this bundle is minified
   size: 231231,
   // The Nodes (and therefore modules) this bundle contains
   nodes: [node1, node2, ...],
   // The <a href="System.bundle.html">System.bundle</a> moduleNames this bundle is a dependency of
   bundles: [bundleName1, bundleName2]    
 }
</code></pre>

<p><a href="StealTools.html">steal-tools</a> code is organized in folders around certain concepts:</p>

<ul>
<li>build - high level build modules like the multi build and pluginify.</li>
<li>buildTypes - utitlies for specific buildTypes (like CSS or JS).</li>
<li>bundle - transformations around bundle objects.</li>
<li>configuration - utility for getting derived configuration values.</li>
<li>graph - graph creation and transformation utilities.</li>
<li>node - utilities around a node in a graph</li>
</ul>

<h2>Website and Documentation</h2>

<p><a href="https://github.com/bitovi/steal/tree/gh-pages">steal's gh-pages branch</a>
contains <a href="http://stealjs.com">stealjs.com</a>'s code. It 
uses <a href="http://github.com/bitovi/documentjs">DocumentJS</a> to produce the 
website.  To edit the docs:</p>

<ol>
<li><p>Fork/Clone https://github.com/bitovi/steal/tree/gh-pages:</p>

<pre><code>&gt; git clone git@github.com:bitovi/steal -b gh-pages
</code></pre></li>
<li><p>Install NPM dependencies:</p>

<pre><code>&gt; npm install
</code></pre></li>
<li><p>Install steal and steal-tools submodules:</p>

<pre><code>&gt; git submodule init
&gt; git submodule update
</code></pre></li>
<li><p>Generate site</p>

<pre><code>&gt; node build.js
</code></pre></li>
<li><p>Edit markdown files in <code>steal/docs</code> or <code>steal-tools/doc</code></p></li>
<li><p>Regenerate site and check changes</p>

<pre><code>&gt; node build.js
</code></pre></li>
<li><p>Checkin and push markdown changes to steal or steal-tools.</p></li>
<li>Checkin and push gh-pages branch changes.  </li>
</ol>
		</section>
		

		
	</article>
</div>

<script type="text/javascript">
	var docData = {"root":".","page":"docs","out":"/Users/justin/dev/steal.com/docs","parent":"StealJS.guides","static":"/Users/justin/dev/steal.com/theme/static","templates":"/Users/justin/dev/steal.com/theme/templates","type":"page","name":"guides.Contributing","description":"<p>Thank you for contributing!</p>","title":"Contributing","src":"steal/docs/pages/contributing.md"};

	console.log(docData);
</script>



	<footer>
		<nav class="container">
			<a class="brand javascriptmvc" href="index.html"></a>
		</nav>
	</footer>
	<script type="text/javascript">
		window.Bitovi = {
			URL: {
				BUILDER: '',
				BUILDER_DATA: '',
				BITHUB: '',
				CDN: ''
			}
		};

	</script>
	<script type='text/javascript' 
			data-main="static"
	
		src="./static/steal.production.js"
	
	    bundles-path="bundles"
		></script>
</body>

</html>
